<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KIOSK - POS.TLUCK</title>
<link rel="icon" href="/resources/image/fabicon.png">
<link rel="stylesheet" href="/resources/css/mainBootstrap.css">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" />
<link
	href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&amp;display=swap"
	rel="stylesheet">
<link rel="stylesheet" href="/resources/css/kiosk.css">
</head>
<body>
	<div class="main">
		<div class="header">
			<span class="px-3"><svg xmlns="http://www.w3.org/2000/svg"
					width="30" height="30" fill="currentColor" class="bi bi-arrow-left"
					viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
						d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path>
                </svg></span> <span><img
				src="/resources/image/mainLogo-dark.png"></span>
		</div>
		<div id="menuPage" class="w-100"
			style="display: block; position: absolute; height: 95%;">
			<div class="row" style="height: 100%;">
				<div class="mainContents border col-3">
					<div
						class="border menuListHeader fs-4 d-flex align-items-center justify-content-center"
						style="height: 7%;">
						<div>핫도그라운드KIOSK</div>
					</div>
					<div class="text-center " style="overflow-y: auto; height: 93%;">
						<div class="menuList row row-cols-3">
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
							<div class="col p-4">
								<div class="card">
									<div
										class="position-absolute m-3 badge bg-success rounded-pill fs-6 mx-3 col-3">
										대표</div>
									<img src="\resources\image\hotdog2.jpg"
										class="card-img-top cardTop" alt="...">
									<div class="card-body">
										<div class="row p-1">
											<div class="col fs-4">핫도그</div>
										</div>
										<div class="fs-4">1,500원</div>

									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
				<div class="subContents col">
					<div class="subContentsHeader fs-5 p-3 border-bottom"
						style="height: 7%;">목록</div>
					<div class="subContentsOrderList" style="height: 86%;">
						<div class="row text-center fs-5 border-bottom p-3"
							style="-bs-gutter-x: 0px;">
							<div class="menuName col-3 ">핫도그</div>
							<!-- 수량줄이는 -버튼 -->
							<div class="col">
								<i class="bi bi-dash-circle"></i>
							</div>
							<!-- 수량줄이는 -버튼 -->

							<!-- 수량표시 -->
							<div class="menuCount col-1">5</div>
							<!-- 수량표시 -->

							<!-- 수량 늘리는 + 버튼 -->
							<div class="col">
								<i class="bi bi-plus-circle"></i>
							</div>
							<!-- 수량 늘리는 + 버튼 -->

							<!-- 가격 -->
							<div class="orderPrice col-4">155,500원</div>
							<!-- 가격 -->

							<!-- 주문지우는 X 버튼 -->
							<div class="col">
								<i class="bi bi-x-lg"></i>
							</div>
							<!-- 주문지우는 X 버튼 -->
						</div>
						<div class="row text-center fs-5 border-bottom p-3"
							style="-bs-gutter-x: 0px;">
							<div class="menuName col-3 ">핫도그</div>
							<!-- 수량줄이는 -버튼 -->
							<div class="col">
								<i class="bi bi-dash-circle"></i>
							</div>
							<!-- 수량줄이는 -버튼 -->

							<!-- 수량표시 -->
							<div class="menuCount col-1">5</div>
							<!-- 수량표시 -->

							<!-- 수량 늘리는 + 버튼 -->
							<div class="col">
								<i class="bi bi-plus-circle"></i>
							</div>
							<!-- 수량 늘리는 + 버튼 -->

							<!-- 가격 -->
							<div class="orderPrice col-4">155,500원</div>
							<!-- 가격 -->

							<!-- 주문지우는 X 버튼 -->
							<div class="col">
								<i class="bi bi-x-lg"></i>
							</div>
							<!-- 주문지우는 X 버튼 -->
						</div>
					</div>
					<div class="subContentsBtnZone row" style="height: 7%;">
						<div
							class="cancleButton p-3 col h-100 d-flex justify-content-center align-items-center">주문취소</div>
						<div
							class="orderButton p-3 col h-100 d-flex justify-content-center align-items-center"
							onclick="kioskPage(0)">주문하기</div>
					</div>
				</div>
			</div>


			<!-- 결제방식 결정 -->
		</div>
		<div id="orderPage"
			style="height: 95%; position: absolute; overflow: hidden;"
			class="w-100">
			<!-- 주문내역확인 -->
			<div class="orderContents border-end h-100">
				<div class="orderZoneHeader border-bottom p-2" style="">
					<div class="menu row fs-3 "># 12</div>
				</div>
				<div class="orderZone border-bottom" style="position: relative;">
					<div style="height: 93%; overflow-y: auto; position: relative;">
						<div class="menu border-bottom p-3 row text-center fs-5 " style="">
							<div class="menuName col ">치킨햄버거</div>
							<div class="menuCount col-2">x2</div>
							<div class="menuPrice col">20,000원</div>
						</div>
					</div>
					<div class="menu border-top p-3 row w-100 text-center"
						style="position: absolute; bottom: 0;">
						<div class="allCount col-4 fs-5">총 4건</div>
						<div class="allPrice col fs-3">80,000원</div>
					</div>
				</div>

			</div>
			<!-- 주문내역확인 -->

			<!-- 결제방식 결정 -->
			<div class="payMentContens col" style="height: 100%;">
				<div class="menu p-5 payment" style="height: 50%;">
					<div class="row" style="
    align-items: baseline;
"><div class="paymentText col fs-3" style="">결제금액</div><div class="paymentPrice col" style="">80,000</div><div class="paymentText text-start fs-3 col h-100">원</div></div>
					
					
					<br> <span style="font-size: 30px;"> <br>주문 내역 확인
						후 결제 방법을 선택 해주세요.<br> 결제는 음식 수령과 함께 해주세요.
					</span>
				</div>
				<div class="paymentChoice row">
					<div class="card paymentMethod d-flex col m-5">
						<div class="menu p-3">
							<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-credit-card" viewBox="0 0 16 16">
                        <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1H2zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7z"></path>
                        <path d="M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-1z"></path>
                    </svg>
							카드결제 &gt;
						</div>
					</div>
					<div class="card paymentMethod d-flex col m-5">
						<div class="menu p-3">
							<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"></path>
                        <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"></path>
                        <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"></path>
                        <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"></path>
                    </svg>
							현금결제 &gt;
						</div>
					</div>
				</div>
			</div>
		</div>
		<script>
        var Target = document.getElementById("clock");
        var Target_apm = document.getElementById("apm");
        function clock() {
            var time = new Date();
            var hours = time.getHours();
            var minutes = time.getMinutes();
            var seconds = time.getSeconds();
            var AmPm = "AM";
            if (hours > 12) {
                var AmPm = "PM";
                hours %= 12;
            }

            Target.innerText =
                '::';

            Target_apm.innerText = '';

        }
        clock();
        setInterval(clock, 1000); // 1초마다 실행
    </script>

		<script>
	function kioskPage(ldx) {
	const menuPage = document.getElementById("menuPage");
	const orderPage = document.getElementById("orderPage");
	
	if(orderPage.style.display=="none"){
		orderPage.style.display="block";
		menuPage.style.display="none";
		
	} else if(orderPage.style.display=="block"){
		orderPage.style.display="none";
		menuPage.style.display="block";
	}
		
	
	
	}
</script>
		<script>
	let storeCode ='6913651651';
	let sock;
	if (6913651651) {
		sock = new WebSocket("ws://192.168.0.5:80/my-websocket?"
				+ "storeCode="+'6913651651');
		// WebSocket 처리 코드
	} else {
		alert("다시 로그인해주세요.")
	}

	sock.onopen = function(event) {
		alert(event.code);
		console.log('open');

		sock.send('6913651651');
	};
// 	sock.onmessage = function(e) {
// 		if (e.data.split(':')[0] == '주문') {
// 			alert("주문이 들어왔습니다! " + e.data.split(':')[1])
// 		} else {
// 			console.log(e.data);
// 		}
// 	};
	sock.onclose = function(event) {
		alert(event.code);
		if (event.wasClean) {
			console.log('웹 소켓이 정상적으로 닫혔습니다.');
		} else {
			console.error('웹 소켓이 예기치 않게 닫혔습니다. 이유: ' + event.reason + ', 코드: '
					+ event.code);
		}
	};
	function order() {
		sock.send("주문: 햄버거 1개");
	}
	sock.onerror = function(error) {
		alert([ error ]);
	};
</script>
	</div>
	<script>
        var Target = document.getElementById("clock");
        var Target_apm = document.getElementById("apm");
        function clock() {
            var time = new Date();
            var hours = time.getHours();
            var minutes = time.getMinutes();
            var seconds = time.getSeconds();
            var AmPm = "AM";
            if (hours > 12) {
                var AmPm = "PM";
                hours %= 12;
            }

            Target.innerText =
                '::';

            Target_apm.innerText = '';

        }
        clock();
        setInterval(clock, 1000); // 1초마다 실행
    </script>

	<script>
	function kioskPage(ldx) {
	const menuPage = document.getElementById("menuPage");
	const orderPage = document.getElementById("orderPage");
	
	if(orderPage.style.display=="none"){
		orderPage.style.display="block";
		menuPage.style.display="none";
		
	} else if(orderPage.style.display=="block"){
		orderPage.style.display="none";
		menuPage.style.display="block";
	}
		
	
	
	}
</script>
	<script>
	let storeCode ='6913651651';
	let sock;
	if (6913651651) {
		sock = new WebSocket("ws://192.168.0.5:80/my-websocket?"
				+ "storeCode="+'6913651651');
		// WebSocket 처리 코드
	} else {
		alert("다시 로그인해주세요.")
	}

	sock.onopen = function(event) {
		alert(event.code);
		console.log('open');

		sock.send('6913651651');
	};
// 	sock.onmessage = function(e) {
// 		if (e.data.split(':')[0] == '주문') {
// 			alert("주문이 들어왔습니다! " + e.data.split(':')[1])
// 		} else {
// 			console.log(e.data);
// 		}
// 	};
	sock.onclose = function(event) {
		alert(event.code);
		if (event.wasClean) {
			console.log('웹 소켓이 정상적으로 닫혔습니다.');
		} else {
			console.error('웹 소켓이 예기치 않게 닫혔습니다. 이유: ' + event.reason + ', 코드: '
					+ event.code);
		}
	};
	function order() {
		sock.send("주문: 햄버거 1개");
	}
	sock.onerror = function(error) {
		alert([ error ]);
	};
</script>


	<script>
	function kioskPage(ldx) {
	const menuPage = document.getElementById("menuPage");
	const orderPage = document.getElementById("orderPage");
	
	if(orderPage.style.display=="none"){
		orderPage.style.display="block";
		menuPage.style.display="none";
		
	} else if(orderPage.style.display=="block"){
		orderPage.style.display="none";
		menuPage.style.display="block";
	}
		
	
	
	}
</script>
	<script>
	let storeCode ='2134124312';
	let sock;
	if (2134124312) {
		sock = new WebSocket("ws://192.168.0.5:80/my-websocket?"
				+ "storeCode="+'2134124312');
		// WebSocket 처리 코드
	} else {
		alert("다시 로그인해주세요.")
	}

	sock.onopen = function(event) {
		alert(event.code);
		console.log('open');

		sock.send('2134124312');
	};
// 	sock.onmessage = function(e) {
// 		if (e.data.split(':')[0] == '주문') {
// 			alert("주문이 들어왔습니다! " + e.data.split(':')[1])
// 		} else {
// 			console.log(e.data);
// 		}
// 	};
	sock.onclose = function(event) {
		alert(event.code);
		if (event.wasClean) {
			console.log('웹 소켓이 정상적으로 닫혔습니다.');
		} else {
			console.error('웹 소켓이 예기치 않게 닫혔습니다. 이유: ' + event.reason + ', 코드: '
					+ event.code);
		}
	};
	function order() {
		sock.send("주문: 햄버거 1개");
	}
	sock.onerror = function(error) {
		alert([ error ]);
	};
</script>
	<style>
</style>
</body>
<script>
	function kioskPage(ldx) {
	const menuPage = document.getElementById("menuPage");
	const orderPage = document.getElementById("orderPage");
	
	if(orderPage.style.display=="none"){
		orderPage.style.display="block";
		menuPage.style.display="none";
		
	} else if(orderPage.style.display=="block"){
		orderPage.style.display="none";
		menuPage.style.display="block";
	}
		
	
	
	}
</script>
<script>
	let storeCode ='${store.storeCode}';
	let sock;
	if (${store.storeCode}) {
		sock = new WebSocket("ws://192.168.0.5:80/my-websocket?"
				+ "storeCode="+'${store.storeCode}');
		// WebSocket 처리 코드
	} else {
		alert("다시 로그인해주세요.")
	}

	sock.onopen = function(event) {
		alert(event.code);
		console.log('open');

		sock.send('${store.storeCode}');
	};
// 	sock.onmessage = function(e) {
// 		if (e.data.split(':')[0] == '주문') {
// 			alert("주문이 들어왔습니다! " + e.data.split(':')[1])
// 		} else {
// 			console.log(e.data);
// 		}
// 	};
	sock.onclose = function(event) {
		alert(event.code);
		if (event.wasClean) {
			console.log('웹 소켓이 정상적으로 닫혔습니다.');
		} else {
			console.error('웹 소켓이 예기치 않게 닫혔습니다. 이유: ' + event.reason + ', 코드: '
					+ event.code);
		}
	};
	function order() {
		sock.send("주문: 햄버거 1개");
	}
	sock.onerror = function(error) {
		alert([ error ]);
	};
</script>
<style>
</style>
</html>